<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head.ejs') %>

    <body>
        <%- include('../partials/nav.ejs') %>

        <div class="records-first">
            <h2>Records and Achievements</h2>

            <p>Drake, the multi-talented artist from Toronto, has solidified his place in music history with countless records and awards. Since his debut in 2009, he has broken barriers and set new standards in the music industry, making an undeniable impact on the world of hip-hop, R&B, and beyond.</p>

            <h2>Billboard Success:</h2>

            <p>Drake is renowned for his dominance on the Billboard charts, where he has shattered numerous records. He holds the record for the most entries on the Billboard Hot 100 and has consistently topped the charts with hits such as "Godâ€™s Plan," "Hotline Bling," and "In My Feelings." His albums like Views, Nothing Was the Same, and Take Care have garnered global recognition, each achieving platinum status.</p>

        </div>


        <div class="record-2nd">
            <div class="record-2ndpic">
                <img src="/img/a4.JPG" alt="ovo">
            </div>
            <div class="record-2ndpic">
                <img src="/img/a7.JPG" alt="drake spotify record">
            </div>
        </div>


        <section class="hero-rec">
          <!-- Example central image (replace with your own) -->
          <img class="hero-img" src="/img/e1.JPeG" alt="Drake fan website" />
      
          <h1 class="hero-heading">
            <span>Most</span>
            <span>Streamed</span>
            <span>Artist in</span>
            <span>History</span>
          </h1>
      
         
      
          <!-- Wave at the bottom -->
          <div class="wave-container-rec">
            <!-- You can change the path fill to any shape or color you like -->
            <svg viewBox="0 0 500 150" preserveAspectRatio="none">
              <path class="wave" d="M0.00,49.98 C150.00,150.00 349.98,-50.00 500.00,49.98 L500.00,150.00 L0.00,150.00 Z"></path>
            </svg>
          </div>
        </section>

        

        <div class="records-container">
          <% if (user && user.isAdmin) { %>
            <a href="/records/new" class="btn">New Discography</a>
          <% } %>
      
          <div class="records-posts-grid">
            <% posts.forEach(post => { %>
              <div class="records-card">
                <!-- Clickable area (card content) -->
                <a href="/records/<%= post.slug %>" class="card-link">
                  <div class="records-card-body">
                    <h4 class="class-title"><%= post.title %></h4>
                    <div class="records-sub-title"><%= post.createdAt.toLocaleDateString() %></div>
                    
                    <% if (post.imagePath) { %>
                      <div class="image-container">
                        <img 
                          src="/records/image/<%= post.imagePath %>" 
                          alt="<%= post.title %>"
                          class="records-article-image"
                          onerror="this.onerror=null; this.src='/images/placeholder.jpg';"
                        >
                      </div>
                    <% } %>
                    
                    <div class="records-class-text">
                      <%= post.description %>
                    </div>
                  </div>
                </a>
      
                <!-- Admin controls outside of the clickable area -->
                <% if (user && user.isAdmin) { %>
                  <div class="btn-flex">
                    <a href="/records/edit/<%= post.id %>" class="Edit">
                      Edit
                    </a>
                    <form 
                      action="/records/<%= post.id %>?_method=DELETE" 
                      method="POST"
                      onsubmit="return confirm('Are you sure you want to delete this post?');"
                    >
                      <button type="submit" class="btn-danger">
                        Delete
                      </button>
                    </form>
                  </div>
                <% } %>
              </div>
            <% }) %>
          </div>
        </div>
          <%- include('../partials/footer.ejs') %>
        <script>
            function toggleMobileMenu(menu) {
              var isOpen = menu.classList.toggle('open');
              if (!isOpen) {
                  closeDropdowns(); // Close dropdowns when menu is closed
              }
          }
          
          // Function to toggle dropdown
          function toggleDropdown(event) {
              event.stopPropagation(); // Prevent propagation of the click event
              var parentListItem = event.target.parentElement;
              parentListItem.classList.toggle('open');
          }
          
          // Function to close all dropdowns
          function closeDropdowns() {
              var dropdowns = document.querySelectorAll('.has-dropdown');
              dropdowns.forEach(function(dropdown) {
                  dropdown.classList.remove('open');
              });
          }
          
          // Close dropdowns when clicking outside of them
          document.addEventListener('click', function(event) {
              var dropdowns = document.querySelectorAll('.has-dropdown');
              dropdowns.forEach(function(dropdown) {
                  if (!dropdown.contains(event.target)) {
                      dropdown.classList.remove('open');
                  }
              });
          });
          
          // Close dropdowns when the window is resized (for responsiveness)
          window.addEventListener('resize', function() {
              closeDropdowns();
          });
          
          // Close dropdowns when the mobile menu is closed
          document.getElementById('ham-icon').addEventListener('click', function(event) {
              if (!event.currentTarget.classList.contains('open')) {
                  closeDropdowns();
              }
          });

        

          
          </script>
    </body>
</html>
